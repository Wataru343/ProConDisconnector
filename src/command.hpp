#include <cstdint>
#include <array>

inline uint8_t global_packet_number() {
    static uint8_t number = 0xFF;
    return (++number & 0x0F);
}

inline auto make_rest_command() {
    std::array<uint8_t, 20> buf {
        0x80, 0x92, 0x00, 0x31, 0x00, 0x00, 0x00, 0x00,
        0x01, //command
        0x05, //Global packet number (0-f)
        0x00, 0x01, 0x40, 0x40, 0x00, 0x01, 0x40, 0x40, //Rumble Data
        0x07,  //command(Reset pairing info)
        0x00
    };

        /*0x80, 0x92,  0x00,  0x31, 0x00, 0x00, 0x00, 0x00,
        0x01,
        0x05,
        0x00, 0x01, 0x40, 0x40, 0x00, 0x01, 0x40, 0x40,
        0x07, 0x00*/

    return buf;
}

constexpr inline auto make_handshake_command() {
    std::array<uint8_t, 2> buf { 0x80, 0x02 };

    return buf;
}
